# lovelace-gen.py A lovelace configuration generator for [homeassistant](https://www.home-assistant.io)

This script will generate a `ui-lovelace.yaml` file based off a file `lovelace/main.yaml`. Other files in the `lovelace` directory can be included into the configuration using the `!include filename` statement. This allows for separation of the configuration into several files, and reuse of cards.

## Usage

    lovelace-gen.py [-d sourcedir] [-i input] [-o output]

Generates `<output>` from `<sourcedir>/<input>`.

Default values are `ui-lovelace.yaml` for `<output>`, `lovelace` for `<sourcedir>` and `main.yaml` for `<input>`. Thus the script is prepared for running inside your homeassistant config directory, assuming it contains a `lovelace` directory.


## Example

`lovelace/main.yaml`:

```yaml
title: My Awesome Home
views:
  - title: Home
    id: home
    cards:
      - type: picture_entity
        image: http://placekitten.com/6/200/300
        entity: light.cat_light
      - !include presence_tracker.yaml
  - !include family_view.yaml
```

---

`lovelace/family_view.yaml`:

```yaml
title: Family
id: family
cards:
  - !include presence_tracker.yaml
```

---

`lovelace/presence_tracker.yaml`:

```yaml
type: entity_filter
entities:
  - device_tracker.paulus
  - device_tracker.anne_there
state_filter:
  - 'home'
card:
  type: glance
  title: People that are home
```

---

Generated `ui-lovelace.yaml`:

```yaml

# This file is automatically generated by lovelace-gen.py
# https://github.com/thomasloven/homeassistant-lovelace-gen
# Any changes made to it will be overwritten the next time the script is run.

title: My Awesome Home
views:
- cards:
  - {entity: light.cat_light, image: 'http://placekitten.com/6/200/300', type: picture_entity}
  - card: {title: People that are home, type: glance}
    entities: [device_tracker.paulus, device_tracker.anne_there]
    state_filter: [home]
    type: entity_filter
  id: home
  title: Home
- cards:
  - card: {title: People that are home, type: glance}
    entities: [device_tracker.paulus, device_tracker.anne_there]
    state_filter: [home]
    type: entity_filter
  id: family
  title: Family
```
